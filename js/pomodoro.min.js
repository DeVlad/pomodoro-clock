/*! pomodoro 2017-10-29 */

function displayTime(e){var t="0"+Math.floor(e/60),n="0"+(e-60*t);return t.substr(-2)+":"+n.substr(-2)}function playAudio(){beep.play()}function counter(){(count+=1)>duration&&!1===restStarted&&(document.getElementById("status").innerHTML="<h2>Break !<h2>",count=0,playAudio(),duration=rest,restStarted=!0),count>=duration&&!0===restStarted&&(document.getElementById("status").innerHTML="<h2>Done !<h2>",clearInterval(timer));var e=Math.floor(count/duration*100);document.getElementById("clock").innerHTML="<p>"+displayTime(count)+"</p>",document.getElementById("progress-bar").style.width=e+"%"}function startPomodoro(){duration=60*document.getElementById("sessionDuration").value,rest=60*document.getElementById("breakDuration").value,timer=setInterval(counter,1e3),document.getElementById("start").setAttribute("onClick","resetPomodoro()"),document.getElementById("start").innerHTML="RESET",document.getElementById("status").innerHTML="<h2>Lets Work !<h2>",document.getElementById("status").style.display="block"}function resetPomodoro(){clearInterval(timer),count=0,restStarted=!1,document.getElementById("clock").innerHTML="<p>00:00</p>",document.getElementById("progress-bar").style.width="0%",document.getElementById("start").setAttribute("onClick","startPomodoro()"),document.getElementById("start").innerHTML="START",document.getElementById("status").innerHTML="<h2>&nbsp;<h2>"}function validateInput(){(!/^([0-9]{1,2})$/.test(this.value)||this.value>60)&&(this.value=1)}var count=0,duration=0,rest=0,timer,restStarted=!1,beep=document.getElementById("alarm-beep");document.getElementById("session-plus").addEventListener("click",function(){document.getElementById("sessionDuration").value<60&&document.getElementById("sessionDuration").value++}),document.getElementById("session-minus").addEventListener("click",function(){var e=document.getElementById("sessionDuration").value;e<=60&&e>1&&document.getElementById("sessionDuration").value--}),document.getElementById("break-plus").addEventListener("click",function(){document.getElementById("breakDuration").value<60&&document.getElementById("breakDuration").value++}),document.getElementById("break-minus").addEventListener("click",function(){var e=document.getElementById("breakDuration").value;e<=60&&e>1&&document.getElementById("breakDuration").value--}),sessionDuration.onchange=sessionDuration.onmouseout=validateInput,breakDuration.onchange=breakDuration.onmouseout=validateInput;